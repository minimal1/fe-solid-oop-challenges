# SRP 문제 해결 접근법: 렌더 프롭 패턴 기반 컴포넌트 분리

이 디렉토리에는 단일 책임 원칙(SRP)을 적용한 사용자 프로필 컴포넌트 구현이 포함되어 있습니다. 원래의 `UserProfile` 컴포넌트가 너무 많은 책임을 가지고 있어, 이를 여러 개의 더 작고 집중된 컴포넌트로 분리했습니다.

## 구현 개요

이 솔루션은 **렌더 프롭 패턴(Render Props)** 을 사용하여 컴포넌트 간의 관계를 구성했습니다. 각 컴포넌트는 특정 책임에 집중하며, 상위 컴포넌트가 데이터와 로직을 관리하고 하위 컴포넌트에 전달합니다.

### 주요 컴포넌트 구조

```
UserProfileComposition
├─ AuthManager (인증 관련 로직)
└─ UserProfileApi (API 통신 로직)
   └─ UserProfile (UI 표시 로직)
      └─ UserProfileEditForm (편집 폼 로직)
```

### 파일별 책임

1. **user-profile-composition.component.js**: 최상위 조합 컴포넌트로, 다른 모든 컴포넌트를 조합
2. **auth-manager.component.js**: 인증 상태 관리 및 로그인/로그아웃 로직 담당
3. **user-profile-api.component.js**: API 통신 및 데이터 가져오기/업데이트 로직 담당
4. **user-profile.js**: 사용자 프로필 정보 표시 UI 담당
5. **user-profile-edit-form.component.js**: 프로필 편집 폼 UI 및 로직 담당
6. **use-validate-form.hook.js**: 폼 유효성 검사 로직을 위한 커스텀 훅
7. **loading-view.component.js**: 로딩 상태 표시 UI 담당
8. **error-view.component.js**: 에러 메시지 표시 UI 담당

## 솔루션 코드와의 비교

이 구현은 제공된 솔루션과 몇 가지 중요한 차이점이 있습니다:

### 1. 패턴 접근법
- **이 구현**: 렌더 프롭 패턴을 사용하여 컴포넌트 계층 구조로 조합
- **솔루션**: 훅 기반 접근법으로 로직을 커스텀 훅으로 분리하고 컴포넌트는 UI에 집중

### 2. 상태 관리
- **이 구현**: 각 관심사별 컴포넌트가 자체 상태를 관리하고 자식에게 전달
- **솔루션**: 상태 관리 로직을 커스텀 훅으로 완전히 분리

### 3. API 호출 처리
- **이 구현**: `UserProfileApi` 컴포넌트가 API 호출 및 상태 관리
- **솔루션**: 서비스 클래스(`userService.js`)로 API 로직을 캡슐화하고 훅에서 사용

### 4. 코드 구조
- **이 구현**: 중첩된 컴포넌트 구조로 데이터 흐름이 계층적
- **솔루션**: 선형적인 구조로 컴포넌트와 훅이 병렬적으로 구성

## "선형적" 코드란?

"선형적" 코드는 다음과 같은 특성을 가집니다:

1. **중첩 수준 감소**: 
   ```jsx
   // 이 구현 (중첩된 구조)
   <AuthManager>
     {({ isAuthenticated }) => (
       <UserProfileApi>
         {({ data }) => (
           <UserProfile user={data} />
         )}
       </UserProfileApi>
     )}
   </AuthManager>
   
   // 솔루션 (선형적 구조)
   function UserProfile() {
     const { isAuthenticated } = useAuth();
     const { user } = useUser();
     
     return <UserProfileView user={user} />;
   }
   ```

2. **로직 추적의 용이성**: 선형적 코드는 데이터 흐름을 추적하기 더 쉽고, 디버깅이 용이합니다.

3. **관심사의 명확한 분리**: 선형적 코드는 로직과 UI를 더 명확히 분리하는 경향이 있습니다.

## 장단점 분석

### 이 구현의 장점
- 렌더 프롭 패턴은 컴포넌트 구성에 높은 유연성 제공
- 컴포넌트 간의 계층 구조가 시각적으로 명확함
- 클래스 컴포넌트 기반 코드베이스와 잘 통합됨

### 이 구현의 단점
- 중첩된 콜백으로 인해 코드가 복잡해질 수 있음
- 깊은 컴포넌트 트리는 추론과 디버깅을 어렵게 할 수 있음
- 선언적이기보다 명령적인 코드 스타일이 될 수 있음

### 솔루션 코드의 장점
- 훅 기반 접근법은 코드를 더 선형적이고 이해하기 쉽게 만듦
- 관심사가 더 깔끔하게 분리됨 (상태 관리 vs. UI 렌더링)
- 현대 React 개발 패러다임과 더 일치함

### 솔루션 코드의 단점
- 여러 파일 간의 의존성 관계를 파악하기 어려울 수 있음
- 커스텀 훅의 재사용성이 항상 명확하지 않을 수 있음

## 결론

두 접근법 모두 SRP를 효과적으로 적용하여 관심사를 분리했습니다. 이 구현은 컴포넌트 기반 조합에 중점을 두었고, 솔루션은 훅과 서비스를 통한 로직 분리에 더 집중했습니다. 어떤 접근법이 더 좋은지는 팀의 선호도와 프로젝트 구조에 따라 달라질 수 있지만, 현대 React 개발에서는 선형적인 훅 기반 접근법이 더 선호되는 경향이 있습니다.